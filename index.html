<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í…Œì¼ì¦ˆëŸ°ë„ˆ ë ˆë²¨ì—… ê³„ì‚°ê¸°</title>
</head>

<body>
    <!--Reactë‚˜ Nextë¡œ ë§Œë“¤ë©´ ì‰½ê¸°ì•¼ í•˜ê² ëŠ”ë° ê·¸ëŸ¬ë©´ ë™ì ì›¹í˜ì´ì§€ í˜¸ìŠ¤íŒ…ì„ ëª»í•´ì„œ ê·¸ëƒ¥ ê¹¡ htmlë¡œ ë§Œë“¦..-->
    <div class="mains">
        <div class="main">
            <h1>ğŸ“ˆ í…Œì¼ì¦ˆëŸ°ë„ˆ ë ˆë²¨ì—… ê³„ì‚°ê¸° ğŸ“ˆ</h1>
            <h3 style="color: #909090;">ë§Œë“ ë†ˆ: ì‚¬í</h3>
            <div class="cul">
                <div id="cul">í˜„ì¬ ë ˆë²¨</div>
                <select name="ìƒ‰ìƒ" id="selA">
                    <option class="red" value="a_red">ë¹¨ê°„ìƒ‰</option>
                    <option class="orange" value="a_orange">ì£¼í™©ìƒ‰</option>
                    <option class="yellow" value="a_yellow">ë…¸ë€ìƒ‰</option>
                    <option class="green" value="a_green">ì´ˆë¡ìƒ‰</option>
                    <option class="blue" value="a_blue">íŒŒë€ìƒ‰</option>
                    <option class="darkblue" value="a_darkblue">ë‚¨ìƒ‰</option>
                    <option class="purple" value="a_purple">ë³´ë¼ìƒ‰</option>
                </select>
                <select name="ë ˆë²¨" id="selALvl">
                    <option value="a1">ë³‘ì•„ë¦¬</option>
                    <option value="a2">ë°œë°”ë‹¥</option>
                    <option value="a3">ì–‘ë§</option>
                    <option value="a4">ìŠ¬ë¦¬í¼</option>
                    <option value="a5">ìš´ë™í™”</option>
                    <option value="a6">ìœ™ë¶€ì¸ </option>
                    <option value="a7">ë°ë¹Œìœ™ë¶€ì¸ </option>
                    <option value="a8">ì—”ì ¤ìœ™ë¶€ì¸ </option>
                    <option value="a9">íŒŒì›Œìœ™ë¶€ì¸ </option>
                    <option value="a10">ì¬ë”ìœ™ë¶€ì¸ </option>
                    <option class="hero" value="a11">ë£¨ë‚˜ìœ™ë¶€ì¸ </option>
                    <option class="hero" value="a12">ì ë¼ìœ™ë¶€ì¸ </option>
                    <option class="hero" value="a13">ìŠ¤í…”ë¼ìœ™ë¶€ì¸ </option>
                    <option class="hero" value="a14">ê°¤ëŸ­ì‹œìœ™ë¶€ì¸ </option>
                    <option class="grand" value="a15">í™€ë¦¬ìœ™ë¶€ì¸ </option>
                    <option class="grand" value="a16">í”„ë¼ìš°ë“œìœ™ë¶€ì¸ </option>
                    <option class="eternal" value="a17">í¬ë¡œë…¸ìŠ¤ìœ™ë¶€ì¸ </option>
                    <option class="eternal" value="a18">ì¸í˜ë¥´ë…¸ìœ™ë¶€ì¸ </option>
                </select>
                <input type="number" placeholder="í¼ì„¼íŠ¸" id="lvlPer" min="0" max="100" step="0.01" value="0">%
            </div>
            <div class="tal">
                <div id="tal">ëª©í‘œ ë ˆë²¨</div>
                <select name="ìƒ‰ìƒ" id="selB">
                    <option class="red" value="b_red">ë¹¨ê°„ìƒ‰</option>
                    <option class="orange" value="b_orange">ì£¼í™©ìƒ‰</option>
                    <option class="yellow" value="b_yellow">ë…¸ë€ìƒ‰</option>
                    <option class="green" value="b_green">ì´ˆë¡ìƒ‰</option>
                    <option class="blue" value="b_blue">íŒŒë€ìƒ‰</option>
                    <option class="darkblue" value="b_darkblue">ë‚¨ìƒ‰</option>
                    <option class="purple" value="b_purple">ë³´ë¼ìƒ‰</option>
                </select>
                <select name="ë ˆë²¨" id="selBLvl">
                    <option value="b1">ë³‘ì•„ë¦¬</option>
                    <option value="b2">ë°œë°”ë‹¥</option>
                    <option value="b3">ì–‘ë§</option>
                    <option value="b4">ìŠ¬ë¦¬í¼</option>
                    <option value="b5">ìš´ë™í™”</option>
                    <option value="b6">ìœ™ë¶€ì¸ </option>
                    <option value="b7">ë°ë¹Œìœ™ë¶€ì¸ </option>
                    <option value="b8">ì—”ì ¤ìœ™ë¶€ì¸ </option>
                    <option value="b9">íŒŒì›Œìœ™ë¶€ì¸ </option>
                    <option value="b10">ì¬ë”ìœ™ë¶€ì¸ </option>
                    <option class="hero" value="b11">ë£¨ë‚˜ìœ™ë¶€ì¸ </option>
                    <option class="hero" value="b12">ì ë¼ìœ™ë¶€ì¸ </option>
                    <option class="hero" value="b13">ìŠ¤í…”ë¼ìœ™ë¶€ì¸ </option>
                    <option class="hero" value="b14">ê°¤ëŸ­ì‹œìœ™ë¶€ì¸ </option>
                    <option class="grand" value="b15">í™€ë¦¬ìœ™ë¶€ì¸ </option>
                    <option class="grand" value="b16">í”„ë¼ìš°ë“œìœ™ë¶€ì¸ </option>
                    <option class="eternal" value="b17">í¬ë¡œë…¸ìŠ¤ìœ™ë¶€ì¸ </option>
                    <option class="eternal" value="b18">ì¸í˜ë¥´ë…¸ìœ™ë¶€ì¸ </option>
                </select>
            </div>
            <br>
            <div id="requiredExperience">í•„ìš” ê²½í—˜ì¹˜: </div>
            <div style="font-size: 12px;">ëª¨ë°”ì¼ í™˜ê²½ì—ì„œëŠ” ë³´ê¸°ê°€ ë‹¤ì†Œ ë¶ˆí¸í•  ìˆ˜ ìˆì–´ìš”!</div>
        </div>
    </div>

    <!--ìŠ¤í¬ë¦½íŠ¸ êµ¬ì—­-->
    <script>
        let LEVELEXP = [[0, 25, 75, 150, 250, 350, 450], //ë³‘ì•„ë¦¬
        [600, 800, 1000, 1200, 1400, 1600, 1800], //ë°œë°”ë‹¥
        [2000, 2500, 3000, 3750, 4500, 5500, 6500], //ì–‘ë§
        [7500, 9500, 11500, 14500, 17500, 21500, 25500], //ìŠ¬ë¦¬í¼
        [29500, 34500, 39500, 47000, 54500, 69500, 84500], //ìš´ë™í™”
        [99500, 124500, 149500, 199500, 249500, 299500, 399500], //ìœ™ë¶€ì¸ 
        [499500, 649500, 799500, 999500, 1199500, 1433700, 1683700], //ë°ë¹Œìœ™ë¶€ì¸ 
        [2283700, 2883700, 3483700, 4083700, 4683700, 5283700, 5883700], //ì—”ì ¤ìœ™ë¶€ì¸ 
        [7983700, 10083700, 12183700, 14283700, 16383700, 18483700, 20583700], //íŒŒì›Œìœ™ë¶€ì¸ 
        [25383700, 30183700, 34983700, 39783700, 44583700, 49383700, 54183700], //ì¬ë”ìœ™ë¶€ì¸ 
        [64983700, 75783700, 86583700, 97383700, 108183700, 118983700, 129783700], //ë£¨ë‚˜ìœ™ë¶€ì¸ 
        [153783700, 177783700, 201783700, 225783700, 249783700, 273783700, 297783700], //ì ë¼ìœ™ë¶€ì¸ 
        [345783700, 393783700, 441783700, 489783700, 537783700, 585783700, 633783700], //ìŠ¤í…”ë¼ìœ™ë¶€ì¸ 
        [729783700, 825783700, 921783700, 1017783700, 1113783700, 1209783700, 1305783700], //ê°¤ëŸ­ì‹œìœ™ë¶€ì¸ 
        [1545783700, 1785783700, 2025783700, 2265783700, 2505783700, 2745783700, 2985783700], //í™€ë¦¬ìœ™ë¶€ì¸ 
        [3585783700, 4185783700, 4785783700, 5385783700, 5985783700, 6585783700, 7185783700], //í”„ë¼ìš°ë“œìœ™ë¶€ì¸ 
        [9341518810, 10555916255, 11928185368, 13478849466, 15231099897, 17211142883, 19448591458], //í¬ë¡œë…¸ìŠ¤ìœ™ë¶€ì¸ 
        [25283168896, 28569980852, 32284078363, 36481008550, 41223539662, 46582599818, 52638337794]]; //ì¸í˜ë¥´ë…¸ìœ™ë¶€ì¸ 

        const sel_A_Color = document.getElementById('selA');
        const sel_B_Color = document.getElementById('selB');
        const sel_A_Lvl = document.getElementById('selALvl');
        const sel_B_Lvl = document.getElementById('selBLvl');
        const sel_A_Per = document.getElementById('lvlPer');

        const colorIndex = {
            a_red: 0,
            b_red: 0,
            a_orange: 1,
            b_orange: 1,
            a_yellow: 2,
            b_yellow: 2,
            a_green: 3,
            b_green: 3,
            a_blue: 4,
            b_blue: 4,
            a_darkblue: 5,
            b_darkblue: 5,
            a_purple: 6,
            b_purple: 6
        };

        function calculateCurLvl(colorValue, lvlValue) {
            const colorIdx = colorIndex[colorValue];
            const lvlNum = parseInt(lvlValue.replace(/[ab]/g, ''), 10);
            if (isNaN(colorIdx) || isNaN(lvlNum)) return null;

            return { levelIdx: lvlNum - 1, colorIdx };
        }

        function calculateExpNeeded(curPos, curPercent, tarPos) {
            const { levelIdx: curLevelIdx, colorIdx: curColorIdx } = curPos;
            const { levelIdx: tarLevelIdx, colorIdx: tarColorIdx } = tarPos;

            if (
                curLevelIdx < 0 || curLevelIdx >= LEVELEXP.length ||
                tarLevelIdx < 0 || tarLevelIdx >= LEVELEXP.length ||
                curColorIdx < 0 || curColorIdx >= 7 ||
                tarColorIdx < 0 || tarColorIdx >= 7 ||
                curPercent < 0 || curPercent > 100
            ) return null;

            if (
                curLevelIdx > tarLevelIdx ||
                (curLevelIdx === tarLevelIdx && curColorIdx >= tarColorIdx)
            ) return 0;

            const curMinExp = LEVELEXP[curLevelIdx][curColorIdx];
            const nextExp = curColorIdx < 6
                ? LEVELEXP[curLevelIdx][curColorIdx + 1]
                : (curLevelIdx < LEVELEXP.length - 1 ? LEVELEXP[curLevelIdx + 1][0] : curMinExp);

            const curExp = curMinExp + (curPercent / 100) * (nextExp - curMinExp);

            const tarExp = LEVELEXP[tarLevelIdx][tarColorIdx];

            return tarExp - curExp;
        }

        const neededExpSpan = document.getElementById('requiredExperience');

        function updateExpNeeded() {
            const curPos = calculateCurLvl(sel_A_Color.value, sel_A_Lvl.value);
            const tarPos = calculateCurLvl(sel_B_Color.value, sel_B_Lvl.value);
            const curPercent = parseFloat(sel_A_Per.value);

            if (curPos === null || tarPos === null || isNaN(curPercent)) {
                neededExpSpan.textContent = "ì…ë ¥ê°’ì´ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤.";
                return;
            }

            const expNeeded = calculateExpNeeded(curPos, curPercent, tarPos);
            if (expNeeded === null) {
                neededExpSpan.textContent = "ê³„ì‚°ì— ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.";
                return;
            }

            const selAText = sel_A_Color.options[sel_A_Color.selectedIndex].text;
            const selALvlText = sel_A_Lvl.options[sel_A_Lvl.selectedIndex].text;
            const selBText = sel_B_Color.options[sel_B_Color.selectedIndex].text;
            const selBLvlText = sel_B_Lvl.options[sel_B_Lvl.selectedIndex].text;
            const selAPer = sel_A_Per.value;

            function koUnits(num) {
                const units = [
                    { value: 1e8, label: 'ì–µ' },
                    { value: 1e4, label: 'ë§Œ' }
                ];

                for (const unit of units) {
                    if (num >= unit.value) {
                        const short = (num / unit.value).toFixed(1);
                        const clean = parseFloat(short);
                        return `ì•½ ${clean}${unit.label}`;
                    }
                }
                return `ì•½ ${num.toLocaleString()}`;
            }

            neededExpSpan.textContent = `${selAText} ${selALvlText} ${selAPer}% ì—ì„œ ${selBText} ${selBLvlText} ê¹Œì§€ëŠ” ${Number(expNeeded.toFixed(2)).toLocaleString()}(${koUnits(expNeeded)}) ê²½í—˜ì¹˜ê°€ í•„ìš”í•´ìš”!`;
        }

        sel_A_Color.addEventListener('change', updateExpNeeded);
        sel_A_Lvl.addEventListener('change', updateExpNeeded);
        sel_A_Per.addEventListener('input', updateExpNeeded);

        sel_B_Color.addEventListener('change', updateExpNeeded);
        sel_B_Lvl.addEventListener('change', updateExpNeeded);

        updateExpNeeded();

    </script>
    <style>
        @font-face {
            font-family: 'Dovemayo_gothic';
            src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2302@1.1/Dovemayo_gothic.woff2') format('woff2');
            font-weight: normal;
            font-style: normal;
        }

        * {
            font-family: 'Dovemayo_gothic';
        }

        h1 {
            font-size: 35px;
            text-align: center;
        }

        html,
        body {
            margin: 0;
            padding: 0;
            background-image: url(img/backgroundimgs.png);
            background-position: center;
            background-repeat: repeat;
            background-size: cover;
        }

        select,
        input {
            font-size: 15px;
        }

        .cul {
            margin-bottom: 10px;
        }

        .tal {
            margin-top: 10px;
        }

        .hero {
            background-color: red;
            color: #fff;
        }

        .grand {
            background-color: #4169E1;
            color: #fff;
        }

        .eternal {
            background-color: #47C83E;
            color: #fff;
        }

        .red {
            color: red;
        }

        .orange {
            color: orange;
        }

        .yellow {
            color: gold;
        }

        .green {
            color: green;
        }

        .blue {
            color: blue;
        }

        .darkblue {
            color: darkblue;
        }

        .purple {
            color: purple;
        }

        .mains {
            position: relative;
            width: 100vw;
            height: 100vh;
        }

        .main {
            background-color: #fff;
            display: inline-block;
            padding: 30px;
            border-radius: 15px;
            box-shadow: #303030 0px 0px 50px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40%;
        }
    </style>
</body>

</html>